---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
---

<header>
  <nav>
    <h2><a href="/">{SITE_TITLE}</a></h2>
    <div class="internal-links">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/experience">Experience</HeaderLink>
      <HeaderLink href="/skills">Skills</HeaderLink>
      <HeaderLink href="/education">Education</HeaderLink>
      <HeaderLink href="/interests">Interests</HeaderLink>
      <HeaderLink href="/awards">Awards</HeaderLink>
    </div>
    <div class="social-links">
      <a href="https://www.linkedin.com/in/georgegognadze" target="_blank">
        <span class="sr-only">Follow me on Linkedin</span>
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M29.6338 0H2.36625C1.05938 0 0 1.05938 0 2.36625V29.6338C0 30.9406 1.05938 32 2.36625 32H29.6338C30.9406 32 32 30.9406 32 29.6338V2.36625C32 1.05938 30.9406 0 29.6338 0ZM9.49375 27.2656H4.74375V12.2344H9.49375V27.2656ZM7.11875 10.1C5.59375 10.1 4.3625 8.85938 4.3625 7.34375C4.3625 5.82812 5.59375 4.5875 7.11875 4.5875C8.63438 4.5875 9.875 5.82812 9.875 7.34375C9.875 8.85938 8.63438 10.1 7.11875 10.1ZM27.2656 27.2656H22.525V19.8438C22.525 18.1 22.4938 15.8063 20.0688 15.8063C17.6125 15.8063 17.2375 17.7875 17.2375 19.7188V27.2656H12.5062V12.2344H17.0562V14.2563H17.1188C17.7188 13.1 19.2688 11.8875 21.5375 11.8875C26.2375 11.8875 27.2656 15.1 27.2656 19.9563V27.2656Z"
            fill="#222939"></path>
        </svg>
      </a>
      <a href="https://twitter.com/georgegognadze" target="_blank">
        <span class="sr-only">Follow me on Twitter</span>
        <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32"
          ><path
            fill="currentColor"
            d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"
          ></path></svg
        >
      </a>
      <a href="https://github.com/georgegognadze" target="_blank">
        <span class="sr-only">Follow me on GitHub</span>
        <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32"
          ><path
            fill="currentColor"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"
          ></path></svg
        >
      </a>
    </div>
    <button class="hamburger" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </nav>
  <div class="mobile-menu">
    <HeaderLink href="/">Home</HeaderLink>
    <HeaderLink href="/experience">Experience</HeaderLink>
    <HeaderLink href="/skills">Skills</HeaderLink>
    <HeaderLink href="/education">Education</HeaderLink>
    <HeaderLink href="/interests">Interests</HeaderLink>
    <HeaderLink href="/awards">Awards</HeaderLink>
  </div>
</header>

<style>
  header {
    margin: 0;
    padding: 0 1em;
    background: white;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
  h2 {
    margin: 0;
    font-size: 1em;
  }

  h2 a,
  h2 a.active {
    text-decoration: none;
  }
  nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  nav a {
    padding: 1em 0.5em;
    color: var(--black);
    border-bottom: 4px solid transparent;
    text-decoration: none;
  }
  nav a.active {
    text-decoration: none;
    border-bottom-color: var(--accent);
  }
  .social-links,
  .social-links a {
    display: flex;
  }
  .hamburger {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 2.5rem;
    height: 2.5rem;
    background: black;
    border: none;
    cursor: pointer;
    z-index: 10;
    position: relative;
  }
  .hamburger span {
    width: 2rem;
    height: 0.25rem;
    background: white;
    border-radius: 10px;
    transition: all 0.3s ease-in-out;
    position: absolute;
  }
  .hamburger span:nth-child(1) {
    top: 0.6rem;
  }
  .hamburger span:nth-child(2) {
    top: 1.2rem;
  }
  .hamburger span:nth-child(3) {
    top: 1.8rem;
  }
  .hamburger.active span:nth-child(1) {
    transform: rotate(45deg);
    top: 1.2rem;
  }
  .hamburger.active span:nth-child(2) {
    opacity: 0;
  }
  .hamburger.active span:nth-child(3) {
    transform: rotate(-45deg);
    top: 1.2rem;
  }

  .mobile-menu {
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    right: -100%;
    width: 70%;
    height: 100vh;
    background: white;
    padding: 2rem;
    box-shadow: -5px 0 10px rgba(0, 0, 0, 0.1);
    transition: right 0.3s ease-in-out;
    z-index: 9;
  }
  .mobile-menu.active {
    display: flex;
    width: -webkit-fill-available;
    right: 0;
    margin-top: 70px;
    background-color: #60739f;
  }

  @media (max-width: 1020px) {
    .social-links {
      display: none;
    }
  }
  @media (max-width: 860px) {
    nav h2 {
      display: none;
    }
    header {
      height: 79px;
      display: flex;
      justify-content: center;
      padding: 0;
    }
  }
  @media (max-width: 720px) {
    header {
      height: 70px;
    }
  }
  @media (max-width: 550px) {
    .internal-links {
      display: none;
    }
    .hamburger {
      display: flex;
      margin: 0 auto;
      border-radius: 5px;
    }
    .mobile-menu {
      display: none;
    }

    .mobile-menu a {
      color: black;
      line-height: 35px;
      font-weight: 800;
      letter-spacing: 0.05rem;
      text-transform: uppercase;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const hamburger = document.querySelector(".hamburger");
    const mobileMenu = document.querySelector(".mobile-menu");

    if (hamburger && mobileMenu) {
      hamburger.addEventListener("click", function (this: HTMLButtonElement) {
        this.classList.toggle("active");
        mobileMenu.classList.toggle("active");
      });
    } else {
      console.error("Hamburger or mobile menu element not found");
    }
  });
</script>
